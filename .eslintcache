
[{"/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/App.js":"1","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/api/index.js":"2","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/Auth.js":"3","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/index.js":"4","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/MyRoutines.js":"5","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/Routines.js":"6"},{"size":3140,"mtime":1606598846293,"results":"7","hashOfConfig":"8"},{"size":3471,"mtime":1606519860653,"results":"9","hashOfConfig":"8"},{"size":1930,"mtime":1606584162163,"results":"10","hashOfConfig":"8"},{"size":397,"mtime":1606361518589,"results":"11","hashOfConfig":"8"},{"size":145,"mtime":1606340319833,"results":"12","hashOfConfig":"8"},{"size":264,"mtime":1606597567425,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1292run",{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/App.js",["28"],"/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/api/index.js",["29"],"const BASE_URL = \"http://fitnesstrac-kr.herokuapp.com/api\";\n\nexport async function fetchAPI(url, method = \"GET\", sendData = null) {\n  const fetchOptions = {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization:\n        \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MjAzLCJ1c2VybmFtZSI6ImV2b25zYW5kZXJzIiwiaWF0IjoxNjA2MTgyNzM2LCJleHAiOjE2MDY3ODc1MzZ9.ZRFmbahrnLeJhfc8s-OtsAve2r41MlkReZyJcLtvUCo\",\n    },\n  };\n\n  if (sendData) {\n    fetchOptions.body = JSON.stringify(sendData);\n  }\n\n  const response = await fetch(url, fetchOptions);\n  const data = await response.json();\n\n  return data;\n}\n\nexport const getToken = () => {\n  return localStorage.getItem(\"auth-token\");\n};\n\nexport const clearToken = () => {\n  localStorage.removeItem(\"auth-token\");\n};\n\nconst setToken = (token) => {\n  localStorage.setItem(\"auth-token\", token);\n};\nfunction buildHeaders() {\n    let base = {\n      'Content-Type': 'application/json',\n    }\n    if (getToken()) {\n      base['Authorization'] = `Bearer ${getToken()}`\n    }\n    return base\n  }\n\nexport const auth = async (username, password, isNew = false) => {\n    const url = `${BASE_URL}/users` + (isNew ? '/register' : '/login')\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: buildHeaders(),\n      body: JSON.stringify({\n        username: username,\n        password: password,\n      }),\n    })\n    const { error, user, token } = await response.json()\n    if (error) {\n      throw Error(error.message)\n    }\n    if (token) {\n      setToken(token)\n    }\n    //return data\n  }\n  export const hitAPI = async (method, endpoint, bodyObj) => {\n    const payload = {\n      method: method,\n      headers: buildHeaders(),\n    }\n    if (bodyObj) {\n      payload.body = JSON.stringify(bodyObj)\n    }\n    const response = await fetch(`${BASE_URL}${endpoint}`, payload)\n    const data = await response.json()\n    return data\n  }\nexport const getUserId = async () =>{\n    \n}\n\n// // export async function sendUserRegistration(username, password){\n// //     const response = await fetchAPI('https://fitnesstrac-kr.herokuapp.com/api/users/register',\n// //     \"POST\", {\n// //         username: username,\n// //         password: password\n\n// //     })\n\n// // }\n// export const registerUser = async (username, password) => {\n//     const url = 'https://fitnesstrac-kr.herokuapp.com/api/users/register'\n//   const response = await fetchAPI(`${url}/users/register`, {\n//     method: \"POST\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify({\n//       user: {\n//         username: username,\n//         password: password,\n//       },\n//     }),\n//   });\n\n//   const { error, data } = await response.json();\n\n//   if (error) {\n//     throw Error(error.message);\n//   }\n\n//   if (data && data.token) {\n//     setToken(data.token);\n//   }\n\n//   return data;\n// };\n\n// export const loginUser = async (username, password) => {\n//   const response = await fetchAPI(`${BASE_URL}/users/login`, {\n//     method: \"POST\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify({\n//       user: {\n//         username: username,\n//         password: password,\n//       },\n//     }),\n//   });\n\n//   const { error, data } = await response.json();\n\n//   if (error) {\n//     throw Error(error.message);\n//   }\n\n//   if (data && data.token) {\n//     setToken(data.token);\n//   }\n\n//   return data;\n// };","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/Auth.js",["30","31","32"],"import React, { useState } from \"react\";\nimport {Button} from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles'\n//import TextField from '@material-ui/core/TextField'\nimport {Container} from \"@material-ui/core\"\n\nimport { auth } from \"../api\";\nimport { TextField } from \"@material-ui/core\";\n\nconst Auth = (props) => {\n  const { setIsLoggedIn } = props;\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  return (\n      <Container fixed >\n    <form className=\"loginForm\" onSubmit={(event) => event.preventDefault()}>\n      <h3>Register or Log In</h3>\n      {errorMessage ? <h5 className=\"error\">{errorMessage}</h5> : null}\n      <TextField\n        type=\"text\"\n        value={username}\n        onChange={(event) => setUsername(event.target.value)}\n        placeholder=\"username\"\n      />\n      <br></br>\n      <TextField\n        type=\"password\"\n        value={password}\n        onChange={(event) => setPassword(event.target.value)}\n        placeholder=\"password\"\n      />\n      <br></br>\n      <div>\n      <Button \n      variant=\"contained\"\n      color=\"primary\"\n        onClick={async (event) => {\n          try {\n            const result = await auth(username, password, true);\n            setIsLoggedIn(true);\n          } catch (error) {\n            setErrorMessage(error.message);\n            console.log(\"register attempt\")\n          }\n        }}\n      >\n        Register\n      </Button>\n   \n   \n      <Button variant=\"contained\"\n      \n        onClick={async (event) => {\n          try {\n            const result = await auth(username, password);\n            setIsLoggedIn(true);\n          } catch (error) {\n            setErrorMessage(error.message);\n          }\n        }}\n      >\n        Log In\n      </Button>\n      </div>\n     \n    </form>\n    </Container>\n  );\n};\n\nexport default Auth;\n","/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/index.js",[],"/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/MyRoutines.js",[],"/Users/evonsanders/course_work/react_fitness_tracker/fitness_tracker/src/components/Routines.js",[],{"ruleId":null,"fatal":true,"severity":2,"message":"33","line":118,"column":6},{"ruleId":"34","severity":1,"message":"35","line":54,"column":20,"nodeType":"36","messageId":"37","endLine":54,"endColumn":24},{"ruleId":"34","severity":1,"message":"38","line":3,"column":10,"nodeType":"36","messageId":"37","endLine":3,"endColumn":24},{"ruleId":"34","severity":1,"message":"39","line":42,"column":19,"nodeType":"36","messageId":"37","endLine":42,"endColumn":25},{"ruleId":"34","severity":1,"message":"39","line":58,"column":19,"nodeType":"36","messageId":"37","endLine":58,"endColumn":25},"Parsing error: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?\n\n  116 | \n  117 |         </div>\n> 118 |      </div>\n      |      ^\n  119 |     </Router>\n  120 |     );\n  121 |     };","no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'createMuiTheme' is defined but never used.","'result' is assigned a value but never used."]

